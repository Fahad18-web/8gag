<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <title>Profile</title>
    <link rel="stylesheet" href="profile.css">
</head>

<body>
       <div class="navbar">
            <div class="logo">
                <h3>8GAG</h3>
            </div>
            <div class="nav-items">
                <div class="dropdown">
                    <i id="dropdownIcon" class="bi bi-person-circle"></i>
                    <ul id="dropdownList">
                        <li><a href="index category.html">Edit Categories</a></li>
                        <li><a href="index account.html">Settings</a></li>
                        <li><a href="index logout.html">Logout</a></li>
                    </ul>
                </div>
            </div>
        </div>
    <div class="container">
        <div class="left-content">
            <div class="inner-content">
                <div class="popularity">
                    <div class="heading">Popularity</div>
                    <div class="content-popularity">
                        <div class="hot"><i class="bi bi-fire"></i>hot</div>
                        <div class="hot"><i class="bi bi-graph-up-arrow"></i>trending</div>
                        <div class="hot" style="border-bottom: 1px solid grey;"><i class="bi bi-clock"></i>fresh</div>
                    </div>
                </div>
                <div class="categories">
                    <div class="heading-categories">Categories</div>
                    <div class="content-categories">
                        <div class="cool">Animal</div>
                        <div class="cool">Awesome</div>
                        <div class="cool">Cool</div>
                        <div class="cool" style="border-bottom: 1px solid grey;">Funny</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="mainbody">
            <div class="setting-content">
                <h3>Settings</h3>
                <div class="username">
                    <a href="index account.html">
                        <h6>Account</h6>
                    </a>
                </div>
                <div class="password">
                    <a href="index password.html">
                        <h6>Password</h6>
                    </a>
                </div>
                <div class="profile">
                    <a href="index profile.html">
                        <h6>Profile</h6>
                    </a>
                </div>
            </div>
            <div class="setting-input">
                <div class="area">
                    <div class="profilecontent">
                        <div class="avatar">
                            <h5>Avatar</h5>
                            <div id="imagePreview">
                                <img
                                    src="https://tse4.mm.bing.net/th?id=OIP.liU0csSvNQ2MsvOFQCFP8QHaJn&pid=Api&P=0&h=220">
                            </div>
                        </div>
                        <div class="pic">
                            <div class="file-upload">
                                <div class="padding">
                                    <label for="fileInput" class="custom-file-upload">
                                        <span>Choose File</span>
                                    </label>
                                    <input type="file" id="fileInput" accept="image/*" onchange="previewFile()">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="save-changes">
                        <button>Save Changes</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>

        //nav-bar dropdown-list 
        document.getElementById("dropdownIcon").addEventListener("click", function () {
            var dropdownList = document.getElementById("dropdownList");
            if (dropdownList.style.display === "none") {
                dropdownList.style.display = "block";
            } else {
                dropdownList.style.display = "none";
            }
        });

        // Close the dropdown menu if the user clicks outside of it
        window.onclick = function (event) {
            if (!event.target.matches('#dropdownIcon')) {
                var dropdowns = document.getElementsByClassName("dropdown-content");
                for (var i = 0; i < dropdowns.length; i++) {
                    var openDropdown = dropdowns[i];
                    if (openDropdown.style.display === "block") {
                        openDropdown.style.display = "none";
                    }
                }
            }
        }
        //end

        function previewFile() {
            const preview = document.getElementById('imagePreview');
            const fileInput = document.querySelector('input[type=file]').files[0];
            const reader = new FileReader();

            reader.onloadend = function () {
                const img = document.createElement('img');
                img.src = reader.result;
                preview.innerHTML = '';
                preview.appendChild(img);
            }

            if (fileInput) {
                reader.readAsDataURL(fileInput);
            } else {
                preview.innerHTML = 'No file selected';
            }
        }
    </script>
</body>

</html>